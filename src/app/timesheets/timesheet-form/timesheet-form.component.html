<h3>New Timesheet</h3>
<hr>
<label class="label">Name: </label>

<input placeholder="Item Title" class="input"
[(ngModel)]="timesheet.title"
required minlength="2" maxlength="50"
#title='ngModel' autofocus>

<div class="content columns" *ngFor="let project of timesheet.projects">
	<div class="column is-2">
		<label>Project / Initiative<br><br></label>
		<div class="select">
		  <select [(ngModel)]="project.initiative">
		    <option selected>Select Initiative</option>
		    <option *ngFor="let proj of projectsList" [value]="proj.name">
	      {{ proj.name }}
	    </option>
		  </select>
		</div>
	</div>
	<div class="column is-2">
		<label>Client<br><br></label>
		<div class="select">
		  <select [(ngModel)]="project.client">
		    <option selected>Select Client</option>
		    <option *ngFor="let client of clientsList" [value]="client.content">
		      {{ client.content }}
		    </option>
		  </select>
		</div>
	</div>
	<div class="column is-1">
		<label>{{ project.week.monday.day || 'Monday'}}</label>

		<input
			[(ngModel)]="project.week.monday.hours"
			class="input"
			type='text'
			placeholder="0"
			minlength="1"
			maxlength="2"
			min="0"
  			max="24"
			required
			hoursMask
      numbersOnly
			(change)="calculateHours(project)"
		>
	</div>
	<div class="column is-1">
		<label>{{ project.week.tuesday.day || 'Tuesday'}}</label>
		<input
			[(ngModel)]="project.week.tuesday.hours"
			class="input"
			type='text'
			placeholder="0"
			minlength="1"
			maxlength="2"
			min="0"
  			max="24"
			required
			hoursMask
      numbersOnly
			(change)="calculateHours(project)"
		>
	</div>
	<div class="column is-1">
		<label>{{ project.week.wednesday.day || 'Wednesday'}}</label>
		<input
			[(ngModel)]="project.week.wednesday.hours"
			class="input"
			type='text'
			placeholder="0"
			minlength="1"
			maxlength="2"
			min="0"
  			max="24"
			required
			hoursMask
      numbersOnly
			(change)="calculateHours(project)"
		>
	</div>
	<div class="column is-1">
		<label>{{ project.week.thursday.day || 'Thursday'}}</label>
		<input
			[(ngModel)]="project.week.thursday.hours"
			class="input"
			type='text'
			placeholder="0"
			minlength="1"
			maxlength="2"
			min="0"
  			max="24"
			required
			hoursMask
      numbersOnly
			(change)="calculateHours(project)"
		>
	</div>
	<div class="column is-1">
		<label>{{ project.week.friday.day || 'Friday'}}</label>
		<input
			[(ngModel)]="project.week.friday.hours"
			class="input"
			type='text'
			placeholder="0"
			minlength="1"
			maxlength="2"
			min="0"
  			max="24"
			required
			hoursMask
      numbersOnly
			(change)="calculateHours(project)"
		>
	</div>
	<div class="column is-1">
		<label>{{ project.week.saturday.day || 'Saturday'}}</label>
		<input
			[(ngModel)]="project.week.saturday.hours"
			class="input"
			type='text'
			placeholder="0"
			minlength="1"
			maxlength="2"
			min="0"
  			max="24"
			required
			hoursMask
      numbersOnly
			(change)="calculateHours(project)"
		>
	</div>
	<div class="column is-1">
		<label>{{ project.week.sunday.day || 'Sunday'}}</label>
		<input
			[(ngModel)]="project.week.sunday.hours"
			class="input"
			type='text'
			placeholder="0"
			minlength="1"
			maxlength="2"
			min="0"
  			max="24"
			required
			hoursMask
      numbersOnly
			(change)="calculateHours(project)"
		>
	</div>
	<div class="column is-1">
		<strong>Total<br><br></strong>
		<input
			class="input"
			type='text'
			[disabled]="true"
			[(ngModel)]="project.total"
		>
	</div>
</div>


<div *ngIf="title.dirty">
  <span *ngIf='title.errors; then errors else valid'>template renders here...</span>
</div>

<button class="button is-default"
	(click)='addProject()'>Add Another Project</button>

<button class="button is-primary"
	(click)='createTimesheet()'
	[disabled]="!title.valid">Create</button>

<ng-template #valid>
  <p class="help is-success">looks good!</p>
</ng-template>

<ng-template #errors>
  <p class="help is-danger">form contains errors!</p>
</ng-template>
